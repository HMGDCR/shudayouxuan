(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-680e1660"],{5950:function(t,e,i){},7281:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-card",[i("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n            城市列表\n        ")]),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.listArr,border:""}},[i("el-table-column",{attrs:{prop:"cityId",label:"城市ID",align:"center"}}),i("el-table-column",{attrs:{prop:"name",label:"城市名称",align:"center"}}),i("el-table-column",{attrs:{prop:"pinyin",label:"城市拼音",align:"center"}}),i("el-table-column",{attrs:{prop:"create",label:"创建时间",align:"center"}}),i("el-table-column",{attrs:{prop:"isHot",formatter:t.formatHot,label:"热门城市",align:"center"}}),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticClass:"deleteItem",attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"small"},on:{click:function(i){return t.handleClick(e)}}}),i("router-link",{staticClass:"revision",attrs:{to:"/city/edit/"+e.row.cityId}},[i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit",circle:""}})],1)]}}])})],1),i("div",{staticClass:"pages"},[i("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next",total:t.totalList,"hide-on-single-page":!0},on:{"current-change":t.changePage}})],1)],1)],1)},a=[],o=(i("7f7f"),i("ac6a"),{data:function(){return{list:[],totalList:0,loading:!1,listArr:[]}},created:function(){this.getList(1),this.loading=!0},methods:{formatHot:function(t){return t.isHot?"是":"否"},changePage:function(t){console.log(t),this.getList(t),this.loading=!0},getList:function(t){var e=this,i="/city/getList?pageNum="+t;this.$axios.get(i).then((function(t){e.list=t.cities,e.loading=!1,console.log(t),e.totalList=t.total,e.getArr()})).catch((function(t){console.log(t),e.loading=!1}))},getArr:function(){var t=this,e=[];this.list.forEach((function(i){e.push({cityId:i.cityId,isHot:i.isHot,name:i.name,pinyin:i.pinyin,create:t.getTime(i.create)})})),this.listArr=e},getTime:function(t){var e=new Date(t),i=e.getFullYear(),n=e.getMonth()+1,a=e.getDate();return n<10&&(n="0"+n),a<10&&(a="0"+a),i+"/"+n+"/"+a},handleClick:function(t){var e=this;console.log(t),this.$confirm("此操作将永久删除该城市, 是否继续?","删除提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i=t.$index,n=t.row.cityId,a={cityId:n},o="/city/delById";e.$axios.post(o,a).then((function(t){e.listArr.splice(i,1)})).catch((function(t){e.$message.error("删除失败！")})),e.$message({type:"success",message:"删除城市成功!"})})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}}}),r=o,l=(i("7e43"),i("2877")),s=Object(l["a"])(r,n,a,!1,null,"a6db9656",null);e["default"]=s.exports},"7e43":function(t,e,i){"use strict";var n=i("5950"),a=i.n(n);a.a},"7f7f":function(t,e,i){var n=i("86cc").f,a=Function.prototype,o=/^\s*function ([^ (]*)/,r="name";r in a||i("9e1e")&&n(a,r,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},ac6a:function(t,e,i){for(var n=i("cadf"),a=i("0d58"),o=i("2aba"),r=i("7726"),l=i("32e9"),s=i("84f2"),c=i("2b4c"),u=c("iterator"),g=c("toStringTag"),d=s.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=a(f),p=0;p<h.length;p++){var m,L=h[p],y=f[L],b=r[L],S=b&&b.prototype;if(S&&(S[u]||l(S,u,d),S[g]||l(S,g,L),s[L]=d,y))for(m in n)S[m]||o(S,m,n[m],!0)}}}]);
//# sourceMappingURL=chunk-680e1660.f41ff7fa.js.map