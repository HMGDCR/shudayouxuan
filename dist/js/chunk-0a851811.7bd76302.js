(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a851811"],{aaa2:function(e,s,t){"use strict";t.r(s);var o=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",["/logRe/login"===e.path?t("div",{staticClass:"register-hander"},[t("router-link",{staticClass:"mr-15",attrs:{to:"/logRe/register",tag:"span"}},[e._v("注册")])],1):t("div",{staticClass:"register-hander"},[t("router-link",{staticClass:"mr-15",attrs:{to:"/logRe/login",tag:"span"}},[e._v("登录")])],1),e._m(0),t("form",{attrs:{onsubmit:"return false;"}},[t("div",{staticClass:"form"},["/logRe/register"===e.path?t("div",{staticClass:"form-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{placeholder:"手机号",type:"text"},domProps:{value:e.phone},on:{input:function(s){s.target.composing||(e.phone=s.target.value)}}}),t("van-button",{attrs:{type:"primary",loading:e.loading,"loading-text":e.loadingText,disabled:e.isDisable},on:{click:e.getSmsCode}},[e.isSmsCode?t("span",[e._v(e._s(e.times)+"秒")]):e._e(),e._v("获取验证码")])],1):t("div",{staticClass:"form-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{placeholder:"手机号",type:"text"},domProps:{value:e.phone},on:{input:function(s){s.target.composing||(e.phone=s.target.value)}}}),t("van-button",{attrs:{type:"primary",loading:e.loading,"loading-text":e.loadingText,disabled:e.isDisableLogin},on:{click:e.getSmsCodeLogin}},[e.isSmsCodeLogin?t("span",[e._v(e._s(e.Logintimes)+"秒")]):e._e(),e._v("获取验证码")])],1),e.tureorfales?t("div",{staticClass:"phone"},[e._v("请输入手机号码")]):e._e(),t("div",{staticClass:"form-Verification"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.smsCode,expression:"smsCode"}],attrs:{placeholder:"验证码",type:"text"},domProps:{value:e.smsCode},on:{input:function(s){s.target.composing||(e.smsCode=s.target.value)}}})]),"/logRe/register"===e.path?t("div",{staticClass:"form-password",staticStyle:{"margin-top":"2px"}},["checkbox"===(e.tureorFales?"password":"text")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"密码",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{change:function(s){var t=e.password,o=s.target,i=!!o.checked;if(Array.isArray(t)){var a=null,n=e._i(t,a);o.checked?n<0&&(e.password=t.concat([a])):n>-1&&(e.password=t.slice(0,n).concat(t.slice(n+1)))}else e.password=i}}}):"radio"===(e.tureorFales?"password":"text")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"密码",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{change:function(s){e.password=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"密码",type:e.tureorFales?"password":"text"},domProps:{value:e.password},on:{input:function(s){s.target.composing||(e.password=s.target.value)}}}),t("button",{on:{click:function(s){return e.getEye()}}},[t("van-icon",{staticClass:"icon",attrs:{name:e.tureorFales?"closed-eye":"eye-o"}})],1)]):e._e(),"/logRe/login"===e.path?t("div",{staticClass:"mr-25 ml-25",on:{click:e.getLogin}},[t("van-button",{attrs:{type:"primary"}},[t("span",{class:e.isLoginColor?"spanPre":"spanNow"},[e._v("短信登录")])])],1):t("div",{staticClass:"mr-25 ml-25 reGister",on:{click:e.getRegister}},[t("van-button",{attrs:{type:"primary"}},[t("span",{class:e.isRegisterColor?"spanPre":"spanNow"},[e._v("注册")])])],1)])])])},i=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"logo"},[t("img",{attrs:{src:"https://file.sdyxmall.com/h5/auth/public/app/img/logo.adec77d.png",alt:""}})])}],a={data:function(){return{times:60,Logintimes:60,isSmsCode:!1,isSmsCodeLogin:!1,isDisable:!1,isDisableLogin:!1}},methods:{checkPhone:function(e){var s=/^1[3-9]\d{9}$/,t=s.test(e);return t},getSmsCode:function(){var e=this,s=this.phone;if(!s)return this.$toast.fail("手机号码不能为空"),!1;if(!this.checkPhone(s))return this.$toast.fail("请输入正确的手机号码"),!1;var t="/user/getSmsCode",o={phone:this.phone};this.$axios.post(t,o).then((function(s){var t=setInterval((function(){e.isDisable=!0,e.isSmsCode=!0,e.times--,0==e.times&&(e.isSmsCode=!1,e.isDisable=!1,clearInterval(t))}),1e3);console.log("获取验证码成功"),e.$toast.success("获取验证码成功")})).catch((function(s){console.log("获取验证码失败"),e.$toast.fail(s)}))},getSmsCodeLogin:function(){var e=this,s=this.phone;if(!s)return this.$toast.fail("手机号码不能为空"),!1;if(!this.checkPhone(s))return this.$toast.fail("请输入正确的手机号码"),!1;var t="/user/getSmsCode",o={phone:this.phone};this.$axios.post(t,o).then((function(s){var t=setInterval((function(){e.isDisableLogin=!0,e.isSmsCodeLogin=!0,e.Logintimes--,0==e.Logintimes&&(e.isSmsCodeLogin=!1,e.isDisableLogin=!1,clearInterval(t))}),1e3);console.log("获取验证码成功"),e.$toast.success("获取验证码成功")})).catch((function(s){console.log("获取验证码失败"),e.$toast.fail(s)}))},$loading:function(e){e?this.$toast.loading("努力加载中..."):this.$toast.clear()}}},n={mixins:[a],data:function(){return{tureorfales:!1,tureorFales:!0,phone:"19879918459",password:"hmg",smsCode:"",loading:!1,loadingText:""}},methods:{getRegister:function(){var e=this;if(this.checkPhone(this.phone)){var s="/user/register",t={phone:this.phone,password:this.password,smsCode:this.smsCode};this.$axios.post(s,t).then((function(s){console.log("注册：",s);var t=e.$toast.success("注册成功");setTimeout((function(){e.$router.push("/logRe/login"),t.clear()}),1e3)})).catch((function(s){console.log("err",s);var t=e.$toast.fail(s);setTimeout((function(){t.clear()}),1e3)}))}else this.$toast.fail("注册失败")},getLogin:function(){var e=this;if(this.checkPhone(this.phone)){var s="/user/login",t={phone:this.phone,smsCode:this.smsCode};this.$axios.post(s,t).then((function(s){console.log("登录：",s);var t=e.$toast.success("登录成功");e.$store.commit("phone",s.result.phone),e.$store.commit("isLogin",!0),e.$store.commit("updateToken",s.result.token),setTimeout((function(){t.clear(),e.$router.push("/my/center")}),500)})).catch((function(s){console.log("登录失败",s),e.$toast.fail("请输入正确的手机号码")}))}else this.$toast.fail("登录失败")},getEye:function(){this.tureorFales=!this.tureorFales}},computed:{path:function(){var e=this.$route.path;return e},isRegisterColor:function(){console.log(" this.phone",this.phone);var e=""==this.phone||""==this.password||""==this.smsCode;return console.log("isRegiColor",e),e},isLoginColor:function(){var e=""==this.phone||""==this.password||""==this.smsCode;return console.log("isRegiColor",e),e}}},r=n,l=(t("e3b3"),t("2877")),c=Object(l["a"])(r,o,i,!1,null,"14241cc0",null);s["default"]=c.exports},d947:function(e,s,t){},e3b3:function(e,s,t){"use strict";var o=t("d947"),i=t.n(o);i.a}}]);
//# sourceMappingURL=chunk-0a851811.7bd76302.js.map