(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f5e95d0"],{"5d6e":function(t,e,n){},7631:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-card",[n("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n            电影列表\n        ")]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[n("el-table-column",{attrs:{prop:"poster",label:"海报",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{staticStyle:{width:"120px",heigth:"70px"},attrs:{src:t.row.poster}})]}}])}),n("el-table-column",{attrs:{prop:"name",label:"电影名称",align:"center"}}),n("el-table-column",{attrs:{prop:"filmType",label:"电影类型",align:"center"}}),n("el-table-column",{attrs:{prop:"director",label:"导演",align:"center"}}),n("el-table-column",{attrs:{prop:"language",label:"语言",align:"center"}}),n("el-table-column",{attrs:{prop:"nation",label:"产地",align:"center"}}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticClass:"deleteItem",attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"small"},on:{click:function(n){return t.handleClick(e)}}}),n("router-link",{staticClass:"revision",attrs:{to:"/movie/edit/"+e.row.filmId}},[n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit",circle:""}})],1),n("el-button",{staticClass:"deleteItem",attrs:{type:"info",icon:"el-icon-search",circle:"",size:"small"},on:{click:function(n){return t.checkDetails(e)}}})]}}])})],1),n("div",{staticClass:"pages"},[n("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next",total:t.totalList,"hide-on-single-page":!0},on:{"current-change":t.changePage}})],1)],1)],1)},l=[],a={data:function(){return{list:[],totalList:0,loading:!1}},created:function(){this.movieList(1),this.loading=!0},methods:{changePage:function(t){this.movieList(t),this.loading=!0},movieList:function(t){var e=this,n="/film/getList?pageNum="+t;this.$axios.get(n).then((function(t){console.log(t),e.list=t.films,e.totalList=t.total,e.loading=!1}))},checkDetails:function(t){console.log(t),this.$router.push({path:"/movie/movieDetail",query:{filmId:t.row.filmId}})},handleClick:function(t){var e=this;this.$confirm("此操作将永久删除该地区, 是否继续?","删除提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n=t.$index,i=t.row.filmId,l={filmId:i},a="/film/delById";e.$axios.post(a,l).then((function(t){e.list.splice(n,1)})).catch((function(t){e.$message.error("删除失败！")})),e.$message({type:"success",message:"删除成功!"})})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}}},o=a,s=(n("fed7"),n("2877")),c=Object(s["a"])(o,i,l,!1,null,"413811d6",null);e["default"]=c.exports},fed7:function(t,e,n){"use strict";var i=n("5d6e"),l=n.n(i);l.a}}]);
//# sourceMappingURL=chunk-4f5e95d0.a9959ea5.js.map