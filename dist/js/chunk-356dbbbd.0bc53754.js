(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-356dbbbd"],{4803:function(t,e,s){},aaa2:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",["/logRe/login"===t.path?s("div",{staticClass:"register-hander"},[s("router-link",{staticClass:"mr-15",attrs:{to:"/logRe/register",tag:"span"}},[t._v("注册")])],1):s("div",{staticClass:"register-hander"},[s("router-link",{staticClass:"mr-15",attrs:{to:"/logRe/login",tag:"span"}},[t._v("登录")])],1),t._m(0),s("form",[s("div",{staticClass:"form"},[s("div",{staticClass:"form-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{placeholder:"手机号",type:"text"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),s("van-button",{attrs:{type:"primary",loading:t.loading,"loading-text":t.loadingText},on:{click:t.getSmsCode}},[t._v("获取验证码")])],1),t.tureorfales?s("div",{staticClass:"phone"},[t._v("请输入手机号码")]):t._e(),s("div",{staticClass:"form-Verification"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.smsCode,expression:"smsCode"}],attrs:{placeholder:"验证码",type:"text"},domProps:{value:t.smsCode},on:{input:function(e){e.target.composing||(t.smsCode=e.target.value)}}})]),"/logRe/register"===t.path?s("div",{staticClass:"form-password",staticStyle:{"margin-top":"2px"}},["checkbox"===(t.tureorFales?"password":"text")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{placeholder:"密码",type:"checkbox"},domProps:{checked:Array.isArray(t.password)?t._i(t.password,null)>-1:t.password},on:{change:function(e){var s=t.password,o=e.target,a=!!o.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);o.checked?n<0&&(t.password=s.concat([r])):n>-1&&(t.password=s.slice(0,n).concat(s.slice(n+1)))}else t.password=a}}}):"radio"===(t.tureorFales?"password":"text")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{placeholder:"密码",type:"radio"},domProps:{checked:t._q(t.password,null)},on:{change:function(e){t.password=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{placeholder:"密码",type:t.tureorFales?"password":"text"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("button",{on:{click:function(e){return t.getEye()}}},[s("van-icon",{staticClass:"icon",attrs:{name:t.tureorFales?"closed-eye":"eye-o"}})],1)]):t._e(),"/logRe/login"===t.path?s("div",{staticClass:"mr-25 ml-25",on:{click:t.getLogin}},[s("van-button",{attrs:{type:"primary"}},[s("span",[t._v("短信登录")])])],1):s("div",{staticClass:"mr-25 ml-25",on:{click:t.getRegister}},[s("van-button",{attrs:{type:"primary"}},[s("span",[t._v("注册")])])],1)])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"logo"},[s("img",{attrs:{src:"https://file.sdyxmall.com/h5/auth/public/app/img/logo.adec77d.png",alt:""}})])}],r={methods:{checkPhone:function(t){var e=/^1[3-9]\d{9}$/,s=e.test(t);return s},getSmsCode:function(){var t=this,e=this.phone;if(!e)return this.$toast.fail("手机号码不能为空"),!1;if(!this.checkPhone(e))return this.$toast.fail("请输入正确的手机号码"),!1;var s="/user/getSmsCode",o={phone:this.phone};this.$axios.post(s,o).then((function(e){console.log("获取验证码成功"),t.$toast.success("获取验证码成功")})).catch((function(e){console.log("获取验证码失败"),t.$toast.fail(e)}))},$loading:function(t){t?this.$toast.loading("努力加载中..."):this.$toast.clear()}}},n={mixins:[r],data:function(){return{tureorfales:!1,tureorFales:!0,phone:"19879918459",password:"hmg",smsCode:"",loading:!1,loadingText:""}},methods:{getRegister:function(){var t=this,e="/user/register",s={phone:this.phone,password:this.password,smsCode:this.smsCode};this.$axios.post(e,s).then((function(e){console.log("注册：",e);var s=t.$toast.success("注册成功");setTimeout((function(){s.clear()}),1e3)})).catch((function(e){console.log("err",e);var s=t.$toast.fail(e);setTimeout((function(){s.clear()}),1e3)}))},getLogin:function(){var t=this,e="/user/login",s={phone:this.phone,smsCode:this.smsCode};this.$axios.post(e,s).then((function(e){console.log("登录：",e);var s=t.$toast.success("登录成功");t.$store.commit("phone",e.result.phone),t.$store.commit("isLogin",!0),t.$store.commit("updateToken",e.result.token),setTimeout((function(){s.clear(),t.$router.push("/my/center")}),500)})).catch((function(e){console.log("登录失败",e),t.$toast.fail("请输入正确的手机号码")}))},getEye:function(){this.tureorFales=!this.tureorFales}},computed:{path:function(){var t=this.$route.path;return t}}},i=n,c=(s("f7b3"),s("2877")),l=Object(c["a"])(i,o,a,!1,null,"12dfd504",null);e["default"]=l.exports},f7b3:function(t,e,s){"use strict";var o=s("4803"),a=s.n(o);a.a}}]);
//# sourceMappingURL=chunk-356dbbbd.0bc53754.js.map