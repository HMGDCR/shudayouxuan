(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b43d9ed"],{"02f4":function(t,e,i){var a=i("4588"),n=i("be13");t.exports=function(t){return function(e,i){var r,o,c=String(n(e)),l=a(i),s=c.length;return l<0||l>=s?t?"":void 0:(r=c.charCodeAt(l),r<55296||r>56319||l+1===s||(o=c.charCodeAt(l+1))<56320||o>57343?t?c.charAt(l):r:t?c.slice(l,l+2):o-56320+(r-55296<<10)+65536)}}},3331:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-card",[i("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n         影院修改\n     ")]),i("div",{staticClass:"maincontents"},[i("el-form",{ref:"form",attrs:{model:t.cityform,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"城市ID",disabled:""}},[i("el-input",{attrs:{disabled:""},model:{value:t.cityform.cityId,callback:function(e){t.$set(t.cityform,"cityId",e)},expression:"cityform.cityId"}})],1),i("el-form-item",{attrs:{label:"区域ID",disabled:""}},[i("el-input",{attrs:{disabled:""},model:{value:t.cityform.areaId,callback:function(e){t.$set(t.cityform,"areaId",e)},expression:"cityform.areaId"}})],1),i("el-form-item",{attrs:{label:"城市区域"}},[i("el-cascader",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择城市区域",options:t.citiOptions,props:{expandTrigger:"hover"},clearable:""},on:{change:t.handleChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1),i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"影院名称"}},[i("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),i("el-form-item",{attrs:{label:"影院地址"}},[i("el-input",{model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),i("el-form-item",{attrs:{label:"最低价格"}},[i("el-input",{model:{value:t.form.lowPrice,callback:function(e){t.$set(t.form,"lowPrice",e)},expression:"form.lowPrice"}})],1),i("el-form-item",[i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.onSubmit}},[t._v("立即修改")]),i("el-button",{nativeOn:{click:function(e){return t.cancel(e)}}},[t._v("取消")])],1)],1)],1)])},n=[],r=(i("7f7f"),i("ac6a"),i("5df3"),{data:function(){return{states:!0,loading:!1,form:{address:"",name:"",lowPrice:""},value:[],options:[],cityform:{cityId:"11",areaId:"22",cityName:"",areaName:""},citiOptions:[{value:"zhinan",label:"指南",children:[{value:"shejiyuanze",label:"设计原则1"}]}],cityList:[],areaList:[],enterLoading:""}},created:function(){var t=this.$route.params.cinemaId;this.getData(),this.getCinema(t),this.enterLoading=this.$loading({lock:!0,text:"努力加载中...",background:"rgba(0, 0, 0, 0.6)"})},methods:{getCinema:function(t){var e=this,i="/cinema/getDetail?cinemaId="+t;this.$axios.get(i).then((function(t){console.log(t),e.form=t.cinema,e.cityform.cityId=t.cinema.cityId,e.cityform.areaId=t.cinema.areaId,e.cityform.cityName=t.cinema.cityName,e.cityform.areaName=t.cinema.areaName,console.log(t),e.value=[t.cinema.cityId,t.cinema.areaId]})).catch((function(t){e.$message.error(t)})).finally((function(){e.enterLoading.close()}))},getData:function(){var t=this,e="/city/allCity",i="/area/allArea",a=this.$axios.get(e),n=this.$axios.get(i);Promise.all([a,n]).then((function(e){var i=e[0].cities;t.cityList=i;var a=e[1].areas;t.areaList=e[1].areas,t.citiOptions=i.map((function(t){var e=a.filter((function(e){return e.cityId==t.cityId}));return e=e.map((function(t){return{value:t.areaId,label:t.name}})),{value:t.cityId,label:t.name,children:e}}))})).catch((function(e){t.$message.error(e)}))},chose:function(t){console.log(t),this.cityform={cityId:t.cityId,cityName:t.name}},handleChange:function(t){if(console.log(t),0==t.length)return!1;var e=this.cityList.filter((function(e){return e.cityId==t[0]})),i=this.areaList.filter((function(e){return e.areaId==t[1]}));this.cityform={cityId:t[0],areaId:t[1],cityName:e[0].name,areaName:i[0].name}},onSubmit:function(){var t=this;this.loading=!0,console.log("submit!");var e="/cinema/edit",i=Object.assign(this.form,this.cityform);console.log(i),this.loading=!0,this.$axios.post(e,i).then((function(e){t.loading=!1,t.$message.success("影院修改成功！"),t.$router.push("/cinema/list")})).catch((function(e){console.log(e),t.$message.error(e),t.loading=!1}))},cancel:function(){this.$router.push("/cinema/list")}},watch:{value:{handler:function(t){0==t.length&&(this.cityform={})},deep:!0,immediate:!0}}}),o=r,c=(i("e4e8"),i("2877")),l=Object(c["a"])(o,a,n,!1,null,"0d7d17e8",null);e["default"]=l.exports},"5df3":function(t,e,i){"use strict";var a=i("02f4")(!0);i("01f9")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=a(e,i),this._i+=t.length,{value:t,done:!1})}))},"7f7f":function(t,e,i){var a=i("86cc").f,n=Function.prototype,r=/^\s*function ([^ (]*)/,o="name";o in n||i("9e1e")&&a(n,o,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},ac6a:function(t,e,i){for(var a=i("cadf"),n=i("0d58"),r=i("2aba"),o=i("7726"),c=i("32e9"),l=i("84f2"),s=i("2b4c"),m=s("iterator"),u=s("toStringTag"),f=l.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=n(d),g=0;g<h.length;g++){var y,v=h[g],p=d[v],b=o[v],L=b&&b.prototype;if(L&&(L[m]||c(L,m,f),L[u]||c(L,u,v),l[v]=f,p))for(y in a)L[y]||r(L,y,a[y],!0)}},b75c:function(t,e,i){},e4e8:function(t,e,i){"use strict";var a=i("b75c"),n=i.n(a);n.a}}]);
//# sourceMappingURL=chunk-4b43d9ed.0fef8318.js.map